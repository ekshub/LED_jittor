# LED模型测试配置 - Sony数据集 - Jittor版本
name: LED_SID_Sony_Test_Jittor
model_type: RAWImageDenoisingModel
scale: 1
num_gpu: 1
manual_seed: 2022

# 数据集配置
datasets:
  test:
    name: SID_Sony_Test
    type: PairedRAWDataset
    dataroot: ../Sony
    data_pair_list: ../Sony_test_list.txt
    zero_clip: false
    crop_size: ~
    load_in_mem: false
    # DataLoader配置 - 减少并发避免I/O问题
    num_worker_per_gpu: 0  # 单线程加载
    batch_size_per_gpu: 1  # 批次大小为1
    prefetch_mode: ~

# 网络配置
network_g:
  type: UNetArch
  inchannels: 4
  outchannels: 4
  channels: 32

# 测试配置
path:
  pretrain_network_g: pretrained/network_g/LED_Deploy_SID_SonyA7S2_CVPR20_Setting_Ratio100-300.pth
  strict_load_g: false
  log: logs
  visualization: results/visualization

# 验证配置
val:
  save_img: true
  suffix: ~
  pbar: true
  
  metrics:
    psnr:
      type: calculate_psnr
      crop_border: 0
      test_y_channel: false
    ssim:
      type: calculate_ssim
      crop_border: 0
      test_y_channel: false

# 日志配置
logger:
  print_freq: 10
  save_checkpoint_freq: 5000
  use_tb_logger: false

# 其他配置
dist: false
is_train: false
